<script src='https://unpkg.com/@@popperjs/core@2'></script>
<script src="https://unpkg.com/tippy.js@6"></script>

@*     x-data="{ *@
@*      *@
@*     apply_tippies(){ *@
@*     console.log('dippy tippy') *@
@*         tippy('[data-tippy-content]');  *@
@*         tippy(document.querySelectorAll('.button')); *@
@*     } *@
@* }" *@

<div
    class=" justify-start flex flex-col gap-2">


    @* <button data-tippy-content="Tooltip">Text</button> *@
    @* <button data-tippy-content="Another Tooltip bites the dust">Text</button> *@

    <template x-cloak x-for="[key, value] of Object.entries(card_options)">
        <div class="mb-3">
            @* :class="{!value ?  'badge-ghost border-2 border-yellow-500':'border-2 border-yellow-500 badge-accent'}" *@
            <button
                x-show="true"
                x-on:click="card_options[key]=!value"
                class="btn btn-primary shadow-md shadow-secondary-400/50"
                :class="{'border-2 border-secondary btn-ghost': !value, 'border-2    border-accent': value }">
                <label
                    :data-tippy-content="key"
                    x-text="key"
                    class="form-label badge badge-sm"
                    :asp-for='key'>
                </label>

                @*
                Unused, b/c i haz a button
                 @@change='card_options[key]=!value' 
*@
                <input x-bind:name='key'
                       x-bind:value='value'
                       x-bind:checked="value"
                       type="checkbox"
                       :asp-for="key"
                       :data-tippy-content="key"
                       class="form-control toggle toggle-primary">
            </button>


            @* :class="{'border-4 border-error': !value, 'border-4 border-accent': value }" *@

            <div
                x-show="false">

                <button
                    @@click='value=!value'
                    class="swap btn btn-primary flex-grow  ">


                    <div class="items-center">
                        <span class="" x-text="key"></span>

                        <!-- this hidden checkbox controls the state -->
                        <label class="swap swap-flip text-lg  flex-grow-0 flex-shrink-0">

                            <!-- this hidden checkbox controls the state -->
                            <input
                                :checked="value"
                                type="checkbox"/>

                            <div class="swap-on">✔️</div>
                            <div class="swap-off">❌</div>
                        </label>


                    </div>

                </button>

            </div>


            @* <input x-bind:name='key' *@
            @*        x-bind:value='value' *@
            @*        x-bind:checked="value" *@
            @*        type="checkbox" *@
            @*        :asp-for="key" *@
            @*        :data-tippy-content="key" *@
            @*        class="form-control toggle toggle-primary" *@
            @*        @@change='card_options[key]=!value'> *@


        </div>
    </template>


</div>

@* <span x-text="key.replace('_',' ')" *@
@*       data-tippy-content="test" *@
@*       class="label-text"> *@
@* </span> *@
@* <div *@
@*     x-text="key.replace('_', ' ')" *@
@*     data-tippy-content="key" *@
@*     class="badge badge-info gap-2" *@
@*     x-on:load="this.apply_tippies()"> *@
@* </div> *@

@* <button class="btn btn-ghost" x-text="key.replace('_',' ')" :data-tippy-content="key"></button> *@